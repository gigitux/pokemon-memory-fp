(this["webpackJsonppokemon-memory"]=this["webpackJsonppokemon-memory"]||[]).push([[0],{109:function(e,t,n){e.exports={container:"wizard_container__671JJ"}},123:function(e,t,n){},124:function(e,t,n){},147:function(e,t,n){"use strict";n.r(t);var r,a=n(0),o=n.n(a),c=n(41),i=n.n(c),u=(n(123),n(165)),s=(n(124),n(14)),d=n(160),f=function(e){return null!==e||void 0!==e},p=n(158),m=n(168),b=n(45),l=n.n(b),j=n(2),O=function(e){var t=e.pokemon,n=e.isOpened,r=e.foundPokemonNames,a=e.onClick,o=r.includes(t.name)||n;return Object(j.jsxs)("div",{className:"".concat(l.a.content," ").concat(o?l.a.noPointerEvents:""),onClick:function(){return a(t.name)},children:[Object(j.jsx)("div",{className:"".concat(l.a.back," ").concat(o?l.a.backAnimation:""),children:Object(j.jsx)(p.a,{width:"200px",height:"200px",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",className:l.a.boxContainer,children:Object(j.jsx)(m.a,{src:t.sprites.frontDefault})})}),Object(j.jsx)("div",{className:"".concat(l.a.front," ").concat(o?l.a.frontAnimation:""),children:Object(j.jsx)(p.a,{width:"200px",height:"200px",borderWidth:"1px",borderRadius:"lg",overflow:"hidden"})})]})},h=n(13),x=n(35),v=n(3),k=Object(v.d)({name:"player",initialState:{moves:0,selectedPokemon:null,foundPokemonNames:[]},reducers:{addMove:function(e){return Object(x.a)(Object(x.a)({},e),{},{moves:e.moves+1})},setSelectedPokemon:function(e,t){return Object(x.a)(Object(x.a)({},e),{},{selectedPokemon:t.payload})},addPokemonName:function(e,t){return Object(x.a)(Object(x.a)({},e),{},{foundPokemonNames:[].concat(Object(h.a)(e.foundPokemonNames),[t.payload])})}}}),w=function(e){return e.player},g=n(164),_=n(16),y=n(20),P=n.n(y),C=n(47),E=n(105),N=n(23),A=n(36),S=n(10),M=n(38),z=n(70);!function(e){e.AdapterError="AdapterError",e.ApiError="ApiError"}(r||(r={}));var G,L=function(e){return"object"===typeof e&&null!==e&&"isError"in e},W=function(e){return{type:r.AdapterError,message:e,isError:!0,status:200}},D=function(e,t){return{status:t,type:r.ApiError,message:e,isError:!0}},J=n(15),F=Object(S.pipe)(J.f({front_default:J.e,back_default:J.e})),R=J.f({id:J.d,name:J.e,base_experience:J.d,height:J.d,order:J.d,weight:J.d,sprites:F}),V=Object(S.pipe)(R,J.b((function(e){return{id:e.id,name:e.name,baseExperience:e.base_experience,height:e.height,order:e.order,weight:e.weight,sprites:(t=e.sprites,{frontDefault:t.front_default,backDefault:t.back_default})};var t}))),X=J.f({count:J.d,next:J.e,previous:J.c(J.e),results:J.a(J.f({name:J.e,url:J.e}))}),q=V.decode,Q=X.decode,T=function(){var e=Object(C.a)(P.a.mark((function e(t){var n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getPokemonList,e.next=3,n();case 3:return r=e.sent,e.abrupt("return",Object(S.pipe)(r,M.fromNullable,Object(M.map)((function(e){return e.data})),Object(A.fromOption)((function(){var e,t;return Object(x.a)({},D("Api Error","number"===typeof(null===(e=r.error)||void 0===e?void 0:e.status)?null===(t=r.error)||void 0===t?void 0:t.status:500))})),Object(A.map)(Object(S.flow)(Q,Object(A.map)((function(e){return e.results})),Object(A.getOrElseW)((function(){return W("Adapter Pokemon List Error")})))),Object(A.matchW)(S.identity,S.identity)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(C.a)(P.a.mark((function e(t,n){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:return r=e.sent,e.abrupt("return",Object(S.pipe)(r,M.fromNullable,Object(M.map)((function(e){return e.data})),Object(A.fromOption)((function(){var e,t;return Object(x.a)({},D("Api Error","number"===typeof(null===(e=r.error)||void 0===e?void 0:e.status)?null===(t=r.error)||void 0===t?void 0:t.status:500))})),Object(A.map)(Object(S.flow)(q,Object(A.getOrElseW)((function(){return{error:W("Adapter Pokemon Error")}})))),Object(A.matchW)(S.identity,S.identity)));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=Object(E.a)({reducerPath:"pokemonsApi",baseQuery:Object(N.d)({baseUrl:"https://pokeapi.co/api/v2/"}),endpoints:function(e){return{getPokemons:e.query({queryFn:function(){var e=Object(C.a)(P.a.mark((function e(t,n,r,a){var o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({getPokemonList:function(){var e=Object(C.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("pokemon?".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 2:return o=e.sent,e.next=5,Object(z.match)(o).when(L,(function(e){return{error:{status:e.status,data:e}}})).when((function(e){return Array.isArray(e)}),function(){var e=Object(C.a)(P.a.mark((function e(t){var n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(C.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,e.next=3,U(n,Object(C.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("pokemon/".concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return n=e.sent,r=n.find(L),e.abrupt("return",L(r)?{error:{status:r.status,data:r}}:{data:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).otherwise((function(){return{error:{status:200,data:W("Error with adapter")}}}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()})}}}),I=B.useGetPokemonsQuery,Y={pokemonsApi:B.reducer,player:k.reducer},H=Object(g.a)(),K=function(e){return function(e){return function(t){return Object(v.l)(t)&&H({title:"Ops, there is an error",status:"error",duration:9e3,isClosable:!0}),e(t)}}},Z=Object(v.a)({reducer:Y,middleware:function(e){return e().concat(K)}}),$=_.e,ee=function(e){var t=e.pokemon,n=e.addCard,r=e.isOpened,a=e.index,o={foundPokemonNames:$(w).foundPokemonNames}.foundPokemonNames;return Object(j.jsx)(O,{pokemon:t,onClick:function(){return n({name:t.name,index:a})},isOpened:r,foundPokemonNames:o})},te=n(167),ne=n(159),re=function(e){var t=e.moves;return Object(j.jsxs)(te.a,{spacing:3,children:[Object(j.jsx)(ne.a,{fontSize:"3xl",children:"Moves"}),Object(j.jsx)(ne.a,{fontSize:"2xl",children:t}),";"]})},ae=function(){var e={moves:$(w).moves}.moves;return Object(j.jsx)(re,{moves:e})},oe=n(83),ce=n.n(oe),ie=function(e){var t=e.pokemons,n=e.openedCards,r=e.addCard;return Object(j.jsxs)("div",{className:ce.a.container,children:[Object(j.jsx)(d.a,{templateColumns:"repeat(3,1fr)",gap:"10px",templateRows:"repeat(3,1fr)",height:"100%",className:ce.a.grid,children:t.map((function(e,t){return Object(j.jsx)(ee,{addCard:r,index:t,isOpened:f(n.find((function(e){return e.index===t}))),pokemon:e},t)}))}),Object(j.jsx)(ae,{})]})},ue=n(5),se=function(e){return[].concat(Object(h.a)(e),Object(h.a)(e))},de=function(e){return e.slice().sort((function(){return Math.random()-.5}))},fe=function(e){return 3===e.length},pe=function(e){return 2===e.length},me=function(e){return 1===e.length},be=function(e){var t=I(e.toString()),n=t.data,r=t.isLoading,o=Object(s.f)(),c=$(w).foundPokemonNames,i=Object(a.useState)([]),u=Object(ue.a)(i,2),d=u[0],p=u[1],m=Object(a.useMemo)((function(){return Object(S.pipe)(n,M.fromNullable,Object(M.map)(Object(S.flow)(de,(function(t){return t.slice(0,e)}),se)),Object(M.getOrElse)((function(){return[]})))}),[n,e]),b=Object(_.d)();Object(a.useEffect)((function(){return Object(z.match)(d).when(fe,(function(e){p([e[2]])})).when(pe,(function(e){var t,n,r=e[0],a=e[1];f(r)&&f(a)&&r.name===a.name?(p([]),b(k.actions.addPokemonName(r.name)),b(k.actions.addMove()),b(k.actions.setSelectedPokemon(null)),t=[].concat(Object(h.a)(c),[r.name]),n=m,t.length>0&&n.every((function(e){return t.some((function(t){return t===e.name}))}))&&o.push(G.win)):(b(k.actions.addMove()),b(k.actions.setSelectedPokemon(null)))})).when(me,(function(e){var t=e[0];b(k.actions.setSelectedPokemon(t.name))})).otherwise((function(){b(k.actions.setSelectedPokemon(null))}))}),[d,o,m,c,b]);var l=Object(a.useMemo)((function(){return{addCard:function(e){return p([].concat(Object(h.a)(d),[e]))}}}),[d]);return{pokemons:m,isLoading:r,openedCards:d,addCard:l.addCard}},le=function(){var e=be(4),t=e.pokemons,n=e.openedCards,r=e.addCard;return Object(j.jsx)(ie,{openedCards:n,addCard:r,pokemons:t})},je=n(161),Oe=n(162),he=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(je.a,{children:Object(j.jsx)(Oe.a,{as:"h3",size:"lg",children:"You won! Congratulations!"})})})},xe=n(163),ve=n(166),ke=n(109),we=n.n(ke),ge=function(e){var t=e.onClick;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(je.a,{children:Object(j.jsx)(Oe.a,{as:"h3",size:"lg",children:"Pokemon Memory Game"})}),Object(j.jsx)("div",{className:we.a.container,children:Object(j.jsx)(xe.a,{flexDirection:"column",height:"150px",justifyContent:"space-between",children:Object(j.jsxs)(te.a,{spacing:4,direction:"column",align:"center",children:[Object(j.jsx)(ne.a,{fontSize:"4xl",children:"Start the game"}),Object(j.jsx)(ve.a,{onClick:t,children:"Start"})]})})})]})},_e=function(){var e=function(){var e=Object(s.f)();return{startGame:Object(a.useMemo)((function(){return{startGame:function(){return e.push("/start")}}}),[e]).startGame}}().startGame;return Object(j.jsx)(ge,{onClick:e})};!function(e){e.start="/start",e.win="/win"}(G||(G={}));var ye=function(){return Object(j.jsxs)(s.c,{children:[Object(j.jsx)(s.a,{path:G.start,exact:!0,component:le}),Object(j.jsx)(s.a,{path:G.win,exact:!0,component:he}),Object(j.jsx)(s.a,{component:_e})]})};var Pe=function(){return Object(j.jsx)(u.a,{children:Object(j.jsx)(ye,{})})},Ce=n(56);i.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(Ce.a,{children:Object(j.jsx)(_.a,{store:Z,children:Object(j.jsx)(Pe,{})})})}),document.getElementById("root"))},45:function(e,t,n){e.exports={front:"card_front__1LzoT",back:"card_back__2aXUV",frontAnimation:"card_frontAnimation__3fXXz","flip-card":"card_flip-card__2Tox2",backAnimation:"card_backAnimation__1vo7x",content:"card_content__1Vx2p",boxContainer:"card_boxContainer__1aE1o",noPointerEvents:"card_noPointerEvents__EoGuk"}},83:function(e,t,n){e.exports={grid:"board_grid__30Vvg",container:"board_container__1Pz2m"}}},[[147,1,2]]]);
//# sourceMappingURL=main.55bbafbf.chunk.js.map